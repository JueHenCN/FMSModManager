@using FMSModManager.Core.Services
@inject LanguageService LanguageService

<MudMenu Icon="@Icons.Material.Filled.Language" 
        Color="Color.Inherit" 
        AnchorOrigin="Origin.BottomCenter"
        TransformOrigin="Origin.TopCenter">
    @foreach (var language in LanguageService.AvailableLanguages)
    {
        <MudMenuItem OnClick="@(() => ChangeLanguage(language.Key))"
                    Icon="@(language.Key == LanguageService.CurrentLanguage ? 
                           Icons.Material.Filled.RadioButtonChecked : 
                           Icons.Material.Filled.RadioButtonUnchecked)">
            @language.Value
        </MudMenuItem>
    }
</MudMenu>

@code {
    private void ChangeLanguage(string language)
    {
        LanguageService.SetLanguage(language);
    }
} 